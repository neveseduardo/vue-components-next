/* ======================================================
 * Avatar CSS Variables
 * ====================================================== */
:root {
	/* Base Dimensions */
	--g-avatar-border-radius: 50%;
	--g-avatar-border-width: 2px;
	--g-avatar-font-size: 0.875rem;
	--g-avatar-line-height: 1;
	
	/* Size Variants */
	--g-avatar-xs-size: 1.5rem;
	--g-avatar-xs-font-size: 0.625rem;
	--g-avatar-xs-border-width: 1px;
	
	--g-avatar-sm-size: 2rem;
	--g-avatar-sm-font-size: 0.75rem;
	--g-avatar-sm-border-width: 1.5px;
	
	--g-avatar-md-size: 2.5rem;
	--g-avatar-md-font-size: 0.875rem;
	--g-avatar-md-border-width: 2px;
	
	--g-avatar-lg-size: 3rem;
	--g-avatar-lg-font-size: 1rem;
	--g-avatar-lg-border-width: 2px;
	
	--g-avatar-xl-size: 4rem;
	--g-avatar-xl-font-size: 1.25rem;
	--g-avatar-xl-border-width: 3px;
	
	--g-avatar-2xl-size: 5rem;
	--g-avatar-2xl-font-size: 1.5rem;
	--g-avatar-2xl-border-width: 3px;
	
	/* Colors */
	--g-avatar-bg: var(--color-neutral-30);
	--g-avatar-color: #fff;
	--g-avatar-border-color: var(--color-neutral-95);
	--g-avatar-fallback-bg: var(--color-primary-key);
	--g-avatar-fallback-color: #fff;
	
	/* Status Colors */
	--g-avatar-status-online: var(--color-success-50);
	--g-avatar-status-away: var(--color-warning-key);
	--g-avatar-status-busy: var(--color-danger-key);
	--g-avatar-status-offline: var(--color-neutral-60);
	--g-avatar-status-border: #fff;
	
	/* Badge/Overlay */
	--g-avatar-overlay-bg: rgba(0, 0, 0, 0.6);
	--g-avatar-overlay-color: #fff;
	
	/* Transitions */
	--g-avatar-transition: all 0.2s ease-in-out;
	--g-avatar-status-transition: transform 0.2s ease-in-out;
	
	/* Shadows */
	--g-avatar-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--g-avatar-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
	--g-avatar-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
	
	/* Gradients for fallback backgrounds */
	--g-avatar-gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	--g-avatar-gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
	--g-avatar-gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
	--g-avatar-gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
	--g-avatar-gradient-5: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
	--g-avatar-gradient-6: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
}

.dark {
	/* Dark theme adjustments */
	--g-avatar-bg: var(--color-neutral-70);
	--g-avatar-border-color: var(--color-neutral-10);
	--g-avatar-status-border: var(--color-neutral-20);
	--g-avatar-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
	--g-avatar-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
	--g-avatar-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
}

/* ======================================================
 * Base Avatar Styles
 * ====================================================== */
.g-avatar {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	position: relative;
	overflow: hidden;
	vertical-align: middle;
	
	width: var(--g-avatar-md-size);
	height: var(--g-avatar-md-size);
	border-radius: var(--g-avatar-border-radius);
	border: var(--g-avatar-border-width) solid var(--g-avatar-border-color);
	background: var(--g-avatar-bg);
	color: var(--g-avatar-color);
	
	font-size: var(--g-avatar-md-font-size);
	font-weight: 500;
	line-height: var(--g-avatar-line-height);
	text-transform: uppercase;
	user-select: none;
	
	transition: var(--g-avatar-transition);
}

.g-avatar img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.g-avatar svg {
	width: 60%;
	height: 60%;
	fill: currentColor;
}

/* ======================================================
 * Avatar Size Variants
 * ====================================================== */
.g-avatar--xs {
	width: var(--g-avatar-xs-size);
	height: var(--g-avatar-xs-size);
	font-size: var(--g-avatar-xs-font-size);
	border-width: var(--g-avatar-xs-border-width);
}

.g-avatar--sm {
	width: var(--g-avatar-sm-size);
	height: var(--g-avatar-sm-size);
	font-size: var(--g-avatar-sm-font-size);
	border-width: var(--g-avatar-sm-border-width);
}

.g-avatar--md {
	width: var(--g-avatar-md-size);
	height: var(--g-avatar-md-size);
	font-size: var(--g-avatar-md-font-size);
	border-width: var(--g-avatar-md-border-width);
}

.g-avatar--lg {
	width: var(--g-avatar-lg-size);
	height: var(--g-avatar-lg-size);
	font-size: var(--g-avatar-lg-font-size);
	border-width: var(--g-avatar-lg-border-width);
}

.g-avatar--xl {
	width: var(--g-avatar-xl-size);
	height: var(--g-avatar-xl-size);
	font-size: var(--g-avatar-xl-font-size);
	border-width: var(--g-avatar-xl-border-width);
}

.g-avatar--2xl {
	width: var(--g-avatar-2xl-size);
	height: var(--g-avatar-2xl-size);
	font-size: var(--g-avatar-2xl-font-size);
	border-width: var(--g-avatar-2xl-border-width);
}

/* ======================================================
 * Avatar Shape Variants
 * ====================================================== */
.g-avatar--square {
	border-radius: 0.25rem;
}

.g-avatar--rounded {
	border-radius: 0.5rem;
}

.g-avatar--circle {
	border-radius: 50%;
}

/* ======================================================
 * Avatar Variants
 * ====================================================== */
.g-avatar--bordered {
	border-width: var(--g-avatar-border-width);
}

.g-avatar--borderless {
	border: none;
}

.g-avatar--elevated {
	box-shadow: var(--g-avatar-shadow-md);
}

.g-avatar--elevated.g-avatar--lg {
	box-shadow: var(--g-avatar-shadow-lg);
}

.g-avatar--outlined {
	border-width: 3px;
}

/* ======================================================
 * Avatar with Fallback
 * ====================================================== */
.g-avatar--fallback {
	background: var(--g-avatar-fallback-bg);
	color: var(--g-avatar-fallback-color);
}

.g-avatar--fallback[data-gradient="1"] {
	background: var(--g-avatar-gradient-1);
}

.g-avatar--fallback[data-gradient="2"] {
	background: var(--g-avatar-gradient-2);
}

.g-avatar--fallback[data-gradient="3"] {
	background: var(--g-avatar-gradient-3);
}

.g-avatar--fallback[data-gradient="4"] {
	background: var(--g-avatar-gradient-4);
}

.g-avatar--fallback[data-gradient="5"] {
	background: var(--g-avatar-gradient-5);
}

.g-avatar--fallback[data-gradient="6"] {
	background: var(--g-avatar-gradient-6);
}

/* ======================================================
 * Avatar States
 * ====================================================== */
.g-avatar.is-clickable {
	cursor: pointer;
}

.g-avatar.is-clickable:hover {
	transform: scale(1.05);
	opacity: 0.9;
}

.g-avatar.is-clickable:active {
	transform: scale(0.95);
}

.g-avatar.is-disabled {
	opacity: 0.5;
	cursor: not-allowed;
	pointer-events: none;
}

.g-avatar.is-loading {
	opacity: 0.7;
}

.g-avatar.is-loading::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(255, 255, 255, 0.8);
	z-index: 1;
}

.g-avatar.is-loading::after {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	width: 40%;
	height: 40%;
	margin: -20% 0 0 -20%;
	border: 2px solid var(--color-primary-key);
	border-right-color: transparent;
	border-radius: 50%;
	animation: g-avatar-spin 1s linear infinite;
	z-index: 2;
}

@keyframes g-avatar-spin {
	to {
		transform: rotate(360deg);
	}
}

/* ======================================================
 * Avatar Status Indicator
 * ====================================================== */
.g-avatar__status {
	position: absolute;
	bottom: 0;
	right: 0;
	width: 25%;
	height: 25%;
	border-radius: 50%;
	border: 2px solid var(--g-avatar-status-border);
	background: var(--g-avatar-status-offline);
	transition: var(--g-avatar-status-transition);
}

.g-avatar__status--online {
	background: var(--g-avatar-status-online);
}

.g-avatar__status--away {
	background: var(--g-avatar-status-away);
}

.g-avatar__status--busy {
	background: var(--g-avatar-status-busy);
}

.g-avatar__status--offline {
	background: var(--g-avatar-status-offline);
}

/* Status positioning for different sizes */
.g-avatar--xs .g-avatar__status {
	width: 30%;
	height: 30%;
	border-width: 1.5px;
}

.g-avatar--xl .g-avatar__status,
.g-avatar--2xl .g-avatar__status {
	width: 20%;
	height: 20%;
}

/* ======================================================
 * Avatar Badge/Overlay
 * ====================================================== */
.g-avatar__badge {
	position: absolute;
	top: -5px;
	right: -5px;
	min-width: 18px;
	height: 18px;
	border-radius: 9px;
	background: var(--color-danger-key);
	color: #fff;
	font-size: 10px;
	font-weight: 600;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0 4px;
	border: 2px solid var(--g-avatar-status-border);
	z-index: 2;
}

.g-avatar--xs .g-avatar__badge {
	min-width: 14px;
	height: 14px;
	font-size: 8px;
	top: -3px;
	right: -3px;
}

.g-avatar--lg .g-avatar__badge,
.g-avatar--xl .g-avatar__badge,
.g-avatar--2xl .g-avatar__badge {
	min-width: 20px;
	height: 20px;
	font-size: 11px;
}

/* ======================================================
 * Avatar Group
 * ====================================================== */
.g-avatar-group {
	display: inline-flex;
	align-items: center;
}

.g-avatar-group .g-avatar:not(:first-child) {
	margin-left: -8px;
	border: 2px solid var(--g-avatar-status-border);
}

.g-avatar-group .g-avatar:hover {
	z-index: 1;
	transform: translateY(-2px);
}

.g-avatar-group--sm .g-avatar:not(:first-child) {
	margin-left: -6px;
}

.g-avatar-group--lg .g-avatar:not(:first-child) {
	margin-left: -12px;
}

.g-avatar-group__counter {
	margin-left: 8px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: var(--g-avatar-sm-size);
	height: var(--g-avatar-sm-size);
	border-radius: var(--g-avatar-border-radius);
	background: var(--color-neutral-30);
	color: #fff;
	font-size: 0.75rem;
	font-weight: 600;
	border: 2px solid var(--g-avatar-status-border);
}

/* ======================================================
 * Avatar with Text
 * ====================================================== */
.g-avatar-with-text {
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

.g-avatar-with-text__content {
	display: flex;
	flex-direction: column;
	min-width: 0;
}

.g-avatar-with-text__name {
	font-weight: 600;
	color: var(--color-text-primary);
	margin: 0;
	font-size: 0.875rem;
	line-height: 1.25;
}

.g-avatar-with-text__subtext {
	color: var(--color-text-secondary);
	margin: 0;
	font-size: 0.75rem;
	line-height: 1.25;
}

.g-avatar-with-text--vertical {
	flex-direction: column;
	text-align: center;
	gap: 0.5rem;
}

/* ======================================================
 * Avatar Overlay
 * ====================================================== */
.g-avatar__overlay {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: var(--g-avatar-overlay-bg);
	color: var(--g-avatar-overlay-color);
	display: flex;
	align-items: center;
	justify-content: center;
	opacity: 0;
	transition: var(--g-avatar-transition);
	cursor: pointer;
}

.g-avatar:hover .g-avatar__overlay {
	opacity: 1;
}

.g-avatar__overlay-icon {
	width: 40%;
	height: 40%;
	fill: currentColor;
}

/* ======================================================
 * Responsive Design
 * ====================================================== */
@media (max-width: 640px) {
	.g-avatar-group .g-avatar:not(:first-child) {
		margin-left: -6px;
	}
	
	.g-avatar-with-text {
		gap: 0.5rem;
	}
	
	.g-avatar-with-text__name {
		font-size: 0.8rem;
	}
	
	.g-avatar-with-text__subtext {
		font-size: 0.7rem;
	}
}